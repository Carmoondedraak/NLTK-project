from nltk.grammar import FeatureGrammar
from nltk import CFG
from nltk.parse.generate import generate, demo_grammar

###################### THE CFG #############################

from nltk import ChartParser
from random import choice
grammar = CFG.fromstring("""

    S -> NP VP
    S -> NP
    NP -> PRP
    NP -> NP PP
    NP -> D NN
    NP -> D NP NP
    NP -> NN
    NP -> NNS
    NP -> JJ NP
    NP -> CC NP
    NP -> IN NNS
    NP -> IN NN
    NP -> IN NN PRP
    VP -> MD RB VBN JJ NP
    VP -> VBN NP
    PP -> WRB NP VP
    VP -> VBD JJR
    VP -> MD VBP NP VBG
    VP -> MD
    IP -> IN



    N -> NN
    N -> NNS
    Adj -> JJ
    Adj -> JJR
    Adj -> JJS
    V -> VBG
    V -> VBD
    V -> VBP
    V -> VB
    V -> VBZ
    V -> VBN
    V -> MD
    Adv -> RB
    Adv -> WRB
    Pro -> PRP
    Pro -> WP
    Det -> DT
    Det -> WDT
    Prep -> IN
    C -> CC

    NN -> 'dirty'
    NN -> 'heard'
    NN -> 'hell'
    NN -> 'sound'
    NN -> 'day'
    NN -> 'understand'
    NN -> 'introduction'
    NN -> 'collect'
    NN -> 'fall'
    NN -> 'becauseâ€¦'
    NN -> 'pet'
    NN -> 'temper'
    NN -> 'road'
    NN -> 'tarantula'
    NN -> 'guy'
    NN -> 'drive'
    NN -> 'class'
    NN -> 'drawn'
    NN -> 'smart'
    NN -> 'baby'
    NN -> 'cross'
    NN -> 'hand'
    NN -> 'mom'
    NN -> 'hey'
    NN -> 'car'
    NN -> 'lot'
    NN -> 'story'
    NN -> 'cobweb'
    NN -> 'town'
    NN -> 'll'
    NN -> 'month'
    NN -> 'stood'
    NN -> 'hour'
    NN -> 'toilet'
    NN -> 'tell'
    NN -> 'eat'
    NN -> 'cost'
    NN -> 'come'
    NN -> 'nobody'
    NN -> 'night'
    NN -> 'fault'
    NN -> 'bring'
    NN -> 'name'
    NN -> 'let'
    NN -> 'someone'
    NN -> 'break'
    NN -> 'beat'
    NN -> 'join'
    NN -> 'bathroom'
    NN -> 'bell'
    NN -> 'felt'
    NN -> 'guard'
    NN -> 'nothing'
    NN -> 'something'
    NN -> 'everyone'
    NN -> 'bottom'
    NN -> 'change'
    NN -> 'school'
    NN -> 'book'
    NN -> 'bedroom'
    NN -> 'sleep'
    NN -> 'stick'
    NN -> 'end'
    NN -> 'cool'
    NN -> 'hung'
    NN -> 'way'
    NN -> 'throat'
    NN -> 'life'
    NN -> 're'
    NN -> 'needless'
    NN -> 'care'
    NN -> 'dare'
    NN -> 'worse'
    NN -> 'time'
    NN -> 's'
    NN -> 'everything'
    NN -> 'reason'
    NN -> 'vacuum'
    NN -> 'thing'
    NN -> 'look'
    NN -> 'wildness'
    NN -> 'hunt'
    NN -> 'money'
    NN -> 'gift'
    NN -> 'country'
    NN -> 'sister'
    NN -> 'imagine'
    NN -> 'steve'
    NN -> 'watch'
    NN -> 'everybody'
    NN -> 'slip'
    NNS -> 'cobwebs'
    NNS -> 'hours'
    NNS -> 'predators'
    NNS -> 'rotten'
    NNS -> 'women'
    NNS -> 'characters'
    NNS -> 'teachers'
    NNS -> 'eggs'
    NNS -> 'wins'
    NNS -> 'fights'
    NNS -> 'people'
    NNS -> 'stores'
    NNS -> 'bones'
    NNS -> 'works'
    NNS -> 'mistakes'
    NNS -> 'names'
    NNS -> 'sorts'
    NNS -> 'parents'
    NNS -> 'noises'
    NNS -> 'calls'
    NNS -> 'costs'
    NNS -> 'kindergarten'
    NNS -> 'cockroaches'
    NNS -> 'books'
    NNS -> 'tantrums'
    NNS -> 'flies'
    NNS -> 'things'
    NNS -> 'spiders'
    NNS -> 'pieces'
    NNS -> 'endings'
    NNS -> 'friends'
    NNS -> 'reasons'
    NNS -> 'pants'
    NNS -> 'ends'
    NNS -> 'prizes'
    JJ -> 'tale'
    JJ -> 'crazy'
    JJ -> 'other'
    JJ -> 'ready'
    JJ -> 'past'
    JJ -> 'harm'
    JJ -> 'stayed'
    JJ -> 'feared'
    JJ -> 'speak'
    JJ -> 'big'
    JJ -> 'happy'
    JJ -> 'great'
    JJ -> 'busy'
    JJ -> 'last'
    JJ -> 'stole'
    JJ -> 'obvious'
    JJ -> 'stroller'
    JJ -> 'wild'
    JJ -> 'lunch'
    JJ -> 'storm'
    JJ -> 'die'
    JJ -> 'little'
    JJ -> 'worms'
    JJ -> 'describe'
    JJ -> 'sharp'
    JJ -> 'wish'
    JJ -> 'happen'
    JJ -> 'enough'
    JJ -> 'dusty'
    JJ -> 'clear'
    JJ -> 'english'
    JJ -> 'cruel'
    JJ -> 'dalton'
    JJ -> 'sick'
    JJ -> 'many'
    JJ -> 'garden'
    JJ -> 'tree'
    JJ -> 'made-up'
    JJ -> 'true'
    JJ -> 'first'
    JJ -> 'irresponsible'
    JJ -> 'mr'
    JJ -> 'shan'
    JJ -> 'started'
    JJ -> 'real'
    JJ -> 'eight-legged'
    JJ -> 'fierce'
    JJ -> 'nasty'
    JJ -> 'trick'
    JJ -> 'small'
    JJ -> 'queasy'
    JJ -> 'fascinated'
    JJ -> 'late'
    JJ -> 'evil'
    JJ -> 'old'
    JJ -> 'quiet'
    JJ -> 'scary'
    JJ -> 'mine'
    JJ -> 'loose'
    JJ -> 'angry'
    JJ -> 'guys'
    JJ -> 'leopard'
    JJ -> 'leonard'
    JJ -> 'bad'
    JJ -> 'cried'
    JJ -> 'mouth'
    JJ -> 'mad'
    JJ -> 'ordinary'
    JJ -> 'throw'
    JJ -> 'thought'
    JJ -> 'serious'
    VBG -> 'understanding'
    VBG -> 'creeping'
    VBG -> 'guessing'
    VBG -> 'blowing'
    VBG -> 'laying'
    VBG -> 'lurking'
    VBG -> 'going'
    VBG -> 'crawling'
    VBG -> 'watching'
    VBG -> 'rattling'
    VBG -> 'being'
    VBG -> 'humming'
    VBG -> 'calling'
    VBG -> 'looking'
    VBG -> 'making'
    VBG -> 'waking'
    VBG -> 'rooting'
    VBG -> 'faking'
    VBG -> 'sliding'
    VBG -> 'feeling'
    VBG -> 'passing'
    VBG -> 'sitting'
    VBG -> 'waiting'
    VBG -> 'ring'
    RB -> 'here'
    RB -> 'once'
    RB -> 'anyway'
    RB -> 'funny'
    RB -> 'soon'
    RB -> 'too'
    RB -> 'practically'
    RB -> 'everywhere'
    RB -> 'still'
    RB -> 'sometimes'
    RB -> 'normally'
    RB -> 'often'
    RB -> 'so'
    RB -> 'treats'
    RB -> 'well'
    RB -> 'almost'
    RB -> 'teacher'
    RB -> 'away'
    RB -> 'ever'
    RB -> 'then'
    RB -> 'always'
    RB -> 'really'
    RB -> 'quite'
    RB -> 'even'
    RB -> 'just'
    RB -> 've'
    RB -> 'before'
    RB -> 'yard'
    RB -> 'very'
    RB -> 'simply'
    RB -> 'back'
    RB -> 'up'
    RB -> 'again'
    RB -> 'stupid'
    RB -> 'not'
    RB -> 'right'
    RB -> 'belly'
    RB -> 'never'
    DT -> 'every'
    DT -> 'no'
    DT -> 'an'
    DT -> 'any'
    DT -> 'a'
    DT -> 'the'
    DT -> 'all'
    DT -> 'this'
    PRP -> 'them'
    PRP -> 'you'
    PRP -> 'we'
    PRP -> 'they'
    PRP -> 'I'
    PRP -> 'him'
    PRP -> 'he'
    PRP -> 'me'
    VBD -> 'ripped'
    VBD -> 'threw'
    VBD -> 'knew'
    VBD -> 'tried'
    VBD -> 'grinned'
    VBD -> 'calmed'
    VBD -> 'said'
    VBD -> 'took'
    VBD -> 'told'
    VBD -> 'had'
    VBD -> 'began'
    VBD -> 'came'
    VBD -> 'stuck'
    VBD -> 'was'
    VBD -> 'shed'
    VBD -> 'were'
    VBD -> 'gave'
    VBD -> 'hollered'
    VBD -> 'prodded'
    VBD -> 'got'
    VBD -> 'loved'
    VBD -> 'happened'
    VBD -> 'shouted'
    VBD -> 'despised'
    VBD -> 'received'
    VBD -> 'whacked'
    VBD -> 'went'
    VBD -> 'wanted'
    VBD -> 'did'
    VBD -> 'found'
    VBD -> 'nodded'
    VBD -> 'ran'
    RP -> 'out'
    IN -> 'd'
    IN -> 'like'
    IN -> 'around'
    IN -> 'with'
    IN -> 'because'
    IN -> 'through'
    IN -> 'for'
    IN -> 'at'
    IN -> 'of'
    IN -> 'near'
    IN -> 'except'
    IN -> 'as'
    IN -> 'while'
    IN -> 'since'
    IN -> 'under'
    IN -> 'into'
    IN -> 'without'
    IN -> 'above'
    IN -> 'behind'
    IN -> 'if'
    IN -> 'that'
    IN -> 'by'
    IN -> 'on'
    IN -> 'inside'
    IN -> 'put'
    IN -> 'after'
    IN -> 'in'
    IN -> 'than'
    IN -> 'from'
    VBP -> 'cartoon'
    VBP -> 'do'
    VBP -> 'matter'
    VBP -> 'dad'
    VBP -> 'poisonous'
    VBP -> 'child'
    VBP -> 'hatch'
    VBP -> 'expect'
    VBP -> 'cleaner'
    VBP -> 'spend'
    VBP -> 'head'
    VBP -> 'believe'
    VBP -> 'friend'
    VBP -> 'ill'
    VBP -> 'spider'
    VBP -> 'are'
    VBP -> 'begin'
    VBP -> 'kill'
    VBP -> 'am'
    VBP -> 'get'
    VBP -> 'say'
    VBP -> 'bag'
    VBP -> 'wherever'
    VB -> 'become'
    VB -> 'dead'
    VB -> 'alive'
    VB -> 'tears'
    VB -> 'be'
    VB -> 'rushing'
    VB -> 'make'
    VB -> 'more'
    VB -> 'go'
    VB -> 'myself'
    VBZ -> 'goes'
    VBZ -> 'unfolds'
    VBZ -> 'loads'
    VBZ -> 'heroes'
    VBZ -> 'says'
    VBZ -> 'is'
    VBZ -> 'does'
    WP -> 'what'
    WRB -> 'when'
    CD -> 'one'
    CD -> 'nine'
    VBN -> 'made'
    VBN -> 'done'
    VBN -> 'raised'
    VBN -> 'fallen'
    VBN -> 'spoiled'
    VBN -> 'called'
    VBN -> 'squeezed'
    VBN -> 'sucked'
    VBN -> 'played'
    VBN -> 'scared'
    VBN -> 'lost'
    VBN -> 'used'
    VBN -> 'been'
    VBN -> 'bed'
    VBN -> 'met'
    VBN -> 'seen'
    PRP -> 'their'
    PRP -> 'your'
    PRP -> 'our'
    PRP -> 'his'
    JJR -> 'younger'
    WDT -> 'which'
    MD -> 'wo'
    MD -> 'would'
    MD -> 'will'
    MD -> 'could'
    MD -> 'should'
    MD -> 'have'
    JJS -> 'greatest'
    CC -> 'and'
    CC -> 'but'

""")

def produce(grammar, symbol):
    words = []
    productions = grammar.productions(lhs = symbol)
    if productions != None:
        production = choice(productions)
        for sym in production.rhs():
            if isinstance(sym, str):
                words.append(sym)
            else:
                words.extend(produce(grammar, sym))
        return words
    else:
        print("hey")
        produce(gr, gr.start())


parser = ChartParser(grammar)
gr = parser.grammar()
for i in range(50):
    print (' '.join(produce(gr, gr.start())))

# for sentence in generate(cfg_1, depth=5):
#     print(' '.join(sentence))
